include ${PETSC_DIR}/conf/variables
PVARFOUND = "0"
ifneq ("$(wildcard $(PETSC_DIR)/$(PETSC_ARCH)/conf/petscvariables)","")
     include ${PETSC_DIR}/${PETSC_ARCH}/conf/petscvariables
     PVARFOUND = 1
endif
ifneq ("$(wildcard $(PETSC_DIR)/conf/petscvariables)","")
     include ${PETSC_DIR}/conf/petscvariables
     PVARFOUND = 1
endif


include ${PETSCEXT2_DIR}/${PETSC_ARCH}/petscextconf

PETSCEXT_LIB_DIR    = ${PETSCEXT2_DIR}/${PETSC_ARCH}/lib
PETSCEXT_INCLUDE    = -I${PETSCEXT2_DIR} -I${PETSCEXT2_DIR}/include ${PETSC_INCLUDE} -I${PETSC_DIR} -I${PETSC_DIR}/include -I${PETSC_DIR}/${PETSC_ARCH}/include
CC_INCLUDES         = ${PETSC_INCLUDE} ${PETSCEXT_INCLUDE}
FC_INCLUDES         = ${PETSC_INCLUDE} ${PETSCEXT_INCLUDE}

PCONF               = ${PETSCEXT_MISSING_LAPACK}
PETSCEXT_EXTERNAL_LIB  = 

INSTALL_LIB_DIR	= ${PETSCEXT_LIB_DIR}
CCPPFLAGS	= ${PETSC_CCPPFLAGS} ${PETSCEXT_INCLUDE} ${PCONF}
FCPPFLAGS	= ${PETSC_FCPPFLAGS} ${PETSCEXT_INCLUDE} ${PCONF}

#PETSCEXT_LIB         = ${CC_LINKER_SLFLAG}${PETSCEXT_LIB_DIR} -L${PETSCEXT_LIB_DIR} -lpetscext ${PETSCEXT_EXTERNAL_LIB} ${PETSC_KSP_LIB}

PETSCEXT_EXTERNAL_LIB       = ${PETSC_LIB}
PETSCEXT_HELPERS_LIB_BASIC  = -lpetscext_helpers
PETSCEXT_VEC_LIB_BASIC      = -lpetscext_vec ${PETSCEXT_HELPERS_LIB_BASIC}
PETSCEXT_MAT_LIB_BASIC      = -lpetscext_mat ${PETSCEXT_VEC_LIB_BASIC}
PETSCEXT_KSP_LIB_BASIC      = -lpetscext_ksp -lpetscext_pc ${PETSCEXT_MAT_LIB_BASIC}
PETSCEXT_SNES_LIB_BASIC     = -lpetscext_snes ${PETSCEXT_KSP_LIB_BASIC}
PETSCEXT_UTILS_LIB_BASIC    = -lpetscext_utils ${PETSCEXT_SNES_LIB_BASIC}

PETSCEXT_HELPERS_LIB   = ${CC_LINKER_SLFLAG}${PETSCEXT_LIB_DIR} -L${PETSCEXT_LIB_DIR} ${PETSCEXT_HELPERS_LIB_BASIC} ${PETSCEXT_EXTERNAL_LIB}
PETSCEXT_VEC_LIB       = ${CC_LINKER_SLFLAG}${PETSCEXT_LIB_DIR} -L${PETSCEXT_LIB_DIR} ${PETSCEXT_VEC_LIB_BASIC} ${PETSCEXT_EXTERNAL_LIB}
PETSCEXT_MAT_LIB       = ${CC_LINKER_SLFLAG}${PETSCEXT_LIB_DIR} -L${PETSCEXT_LIB_DIR} ${PETSCEXT_MAT_LIB_BASIC} ${PETSCEXT_EXTERNAL_LIB}
PETSCEXT_KSP_LIB       = ${CC_LINKER_SLFLAG}${PETSCEXT_LIB_DIR} -L${PETSCEXT_LIB_DIR} ${PETSCEXT_KSP_LIB_BASIC} ${PETSCEXT_EXTERNAL_LIB}
PETSCEXT_SNES_LIB      = ${CC_LINKER_SLFLAG}${PETSCEXT_LIB_DIR} -L${PETSCEXT_LIB_DIR} ${PETSCEXT_SNES_LIB_BASIC} ${PETSCEXT_EXTERNAL_LIB}
PETSCEXT_UTILS_LIB     = ${CC_LINKER_SLFLAG}${PETSCEXT_LIB_DIR} -L${PETSCEXT_LIB_DIR} ${PETSCEXT_UTILS_LIB_BASIC} ${PETSCEXT_EXTERNAL_LIB}
PETSCEXT_LIB           = ${PETSCEXT_UTILS_LIB}



# no longer required
PETSCEXT_FORTRAN_LIB = 

SHLIBS	= libpetscext_helpers libpetscext_vec libpetscext_mat libpetscext_ksp libpetscext_pc libpetscext_snes libpetscext_utils

#
# The following include files set customized site, optimization, and version
# options.
#
include ${PETSCEXT2_DIR}/${PETSC_ARCH}/conf/petscext_variables

